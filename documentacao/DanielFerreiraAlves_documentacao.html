<!DOCTYPE html>
<html>
<head>
<title>documentacao.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="clone-do-jogo-termooo">Clone do Jogo Termooo</h1>
<ul>
<li>Aluno: Daniel Ferreira Alves</li>
<li>Curso: ADS B Noturno</li>
<li>Mat√©ria: Linguagem de Programa√ß√£o Web II</li>
<li>Reposit√≥rio do Projeto: https://github.com/Dandastico/CloneTermoooPHP</li>
</ul>
<h1 id="semana-1">Semana 1</h1>
<h2 id="11-objetivo-do-sistema">1.1 Objetivo do Sistema</h2>
<p>O sistema √© uma c√≥pia do jogo Termooo (vers√£o mais famosa desse tipo de jogo em portugu√™s) ou Wordle (vers√£o mais famosa em ingl√™s, desenvolvido pelo NY Times). O site deve permitir a cria√ß√£o de novos usu√°rios, log-in e gerenciamento do usu√°rio (edi√ß√£o e dele√ß√£o).</p>
<p>O jogo ter√° as mesmas regras de neg√≥cio do jogo Termooo:</p>
<ul>
<li>O jogo ir√° escolher uma palavra por dia para ser o &quot;alvo&quot;</li>
<li>O jogador pode tentar acertar o &quot;alvo&quot; 6 vezes com palavras de 5 letras</li>
<li>O site mostrar√° o resultado da compara√ß√£o do &quot;chute&quot; com o &quot;alvo&quot; utilizando cores:
<ul>
<li>Verde: letra certa na posi√ß√£o certa</li>
<li>Amarela: letra certa na posi√ß√£o errada</li>
<li>Preto: letra errada</li>
</ul>
</li>
<li>O jogador pode criar uma conta</li>
<li>O jogador pode efetuar log-in
<ul>
<li>Quando o jogador efetua o log-in, ele pode ter um hist√≥rico de seus jogos</li>
</ul>
</li>
</ul>
<h2 id="p%C3%BAblico-alvo">P√∫blico-alvo</h2>
<p>O sistema √© destinado a jogadores casuais de jogos eletr√¥nicos.</p>
<h2 id="wireframes">Wireframes</h2>
<p><img src="./imagens/tela1.png" alt="tela1">
<img src="./imagens/tela2.png" alt="tela2">
<img src="./imagens/tela3.png" alt="tela3">
<img src="./imagens/tela4.png" alt="tela4"></p>
<h2 id="arquitetura-do-banco-de-dados">Arquitetura do Banco de Dados</h2>
<p>Tabelas dos jogos</p>
<pre class="hljs"><code><div>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> usuarios (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INT</span> AUTO_INCREMENT PRIMARY <span class="hljs-keyword">KEY</span>,
    username <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    email <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">254</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">UNIQUE</span>,
    senha_hash <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>
);

<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> palavras (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INT</span> AUTO_INCREMENT PRIMARY <span class="hljs-keyword">KEY</span>,
    palavra <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">5</span>) <span class="hljs-keyword">UNIQUE</span>,
    dificuldade ENUM(<span class="hljs-string">'facil'</span>, <span class="hljs-string">'medio'</span>, <span class="hljs-string">'dificil'</span>)
);

<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> jogos (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INT</span> AUTO_INCREMENT PRIMARY <span class="hljs-keyword">KEY</span>,
    usuario_id <span class="hljs-built_in">INT</span>,
    palavra_id <span class="hljs-built_in">INT</span>,  <span class="hljs-comment">-- refer√™ncia √† palavra secreta</span>
    tentativas <span class="hljs-built_in">INT</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
    max_tentativas <span class="hljs-built_in">INT</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">6</span>,  <span class="hljs-comment">-- limite de tentativa</span>
    venceu <span class="hljs-built_in">BOOLEAN</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-literal">FALSE</span>,
    data_inicio <span class="hljs-built_in">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">CURRENT_TIMESTAMP</span>,
    data_fim <span class="hljs-built_in">TIMESTAMP</span> <span class="hljs-literal">NULL</span>,
    <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (usuario_id) <span class="hljs-keyword">REFERENCES</span> usuarios(<span class="hljs-keyword">id</span>) <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">SET</span> <span class="hljs-literal">NULL</span>, <span class="hljs-comment">-- se usu√°rio for deletado, permite manter o jogo</span>
    <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (palavra_id) <span class="hljs-keyword">REFERENCES</span> palavras(<span class="hljs-keyword">id</span>)
);
</div></code></pre>
<h1 id="semana-02---cria%C3%A7%C3%A3o-da-p%C3%A1gina-log-in">Semana 02 -  Cria√ß√£o da P√°gina Log-in</h1>
<p>Nessa semana, criei o sistema de log-in para meu sistema:
<img src="./imagens/screenshot_logIn.png" alt="telaLogIn"></p>
<p>Ela √© bem simples, exigindo apenas e-mail e senha, sem op√ß√£o de log-in por SSO.</p>
<p>O schema do banco de dados do CloneTermoo √©:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> usuarios (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INT</span> AUTO_INCREMENT PRIMARY <span class="hljs-keyword">KEY</span>,
    username <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    email <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">254</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">UNIQUE</span>,
    senha_hash <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>
);

<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> palavras (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INT</span> AUTO_INCREMENT PRIMARY <span class="hljs-keyword">KEY</span>,
    palavra <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">5</span>) <span class="hljs-keyword">UNIQUE</span>,
    dificuldade ENUM(<span class="hljs-string">'facil'</span>, <span class="hljs-string">'medio'</span>, <span class="hljs-string">'dificil'</span>)
);

<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> jogos (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INT</span> AUTO_INCREMENT PRIMARY <span class="hljs-keyword">KEY</span>,
    usuario_id <span class="hljs-built_in">INT</span>,
    palavra_id <span class="hljs-built_in">INT</span>,  <span class="hljs-comment">-- refer√™ncia √† palavra secreta</span>
    tentativas <span class="hljs-built_in">INT</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
    max_tentativas <span class="hljs-built_in">INT</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">6</span>,  <span class="hljs-comment">-- limite de tentativa</span>
    venceu <span class="hljs-built_in">BOOLEAN</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-literal">FALSE</span>,
    data_inicio <span class="hljs-built_in">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">CURRENT_TIMESTAMP</span>,
    data_fim <span class="hljs-built_in">TIMESTAMP</span> <span class="hljs-literal">NULL</span>,
    <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (usuario_id) <span class="hljs-keyword">REFERENCES</span> usuarios(<span class="hljs-keyword">id</span>) <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">SET</span> <span class="hljs-literal">NULL</span>, <span class="hljs-comment">-- se usu√°rio for deletado, permite manter o jogo</span>
    <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (palavra_id) <span class="hljs-keyword">REFERENCES</span> palavras(<span class="hljs-keyword">id</span>)
</div></code></pre>
<p>Os arquivos desse sistema s√£o organizados da seguinte forma:</p>
<pre class="hljs"><code><div>üìÅ CloneTermoooPHP/ (Pasta raiz do projeto)
‚îÇ
‚îú‚îÄ‚îÄ üìÅ public/ (Esta √© a pasta raiz do servidor web - &quot;DocumentRoot&quot;)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ index.php          (P√°gina principal do jogo)
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ login.html          (O formul√°rio de login)
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ registrar.html      (O formul√°rio de registro)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ processa_login.php    (Endpoint do AJAX)
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ processa_registro.php (Endpoint do AJAX de registro)
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ logout.php          (Script para destruir a sess√£o)
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ assets/ (Todos os arquivos CSS, JS e imagens)
‚îÇ       ‚îú‚îÄ‚îÄ üìÅ css/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ style_login.css
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ style_game.css
‚îÇ       ‚îî‚îÄ‚îÄ üìÅ js/
‚îÇ           ‚îú‚îÄ‚îÄ üìÑ login.js
‚îÇ           ‚îî‚îÄ‚îÄ üìÑ registrar.js
‚îÇ
‚îî‚îÄ‚îÄ üìÅ src/ (C√≥digo &quot;privado&quot; do backend e l√≥gica de neg√≥cios)
    ‚îÇ
    ‚îú‚îÄ‚îÄ üìÑ db_config.php       (A conex√£o com o BD)
    ‚îî‚îÄ‚îÄ üìÑ auth_check.php      (Um script para verificar se o usu√°rio est√° logado)
</div></code></pre>
<h2 id="c%C3%B3digos-do-projeto">C√≥digos do projeto</h2>
<p>A seguir, s√£o apresentados os c√≥digos que geram o sistema.</p>
<h3 id="front-end">Front-end</h3>
<p>No front-end, as tecnologias utilizadas forma HTML, CSS e JS</p>
<p><strong>HTML da tela de login</strong></p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"pt-BR"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Login - Clone Termooo<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"assets/css/style_login.css"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"login-container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"loginForm"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Login<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"message"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"message"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"input-group"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"loginUser"</span>&gt;</span>Usu√°rio ou Email<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"loginUser"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"loginUser"</span> <span class="hljs-attr">required</span> <span class="hljs-attr">autocomplete</span>=<span class="hljs-string">"username"</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"input-group"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"loginPass"</span>&gt;</span>Senha<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"loginPass"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"loginPass"</span> <span class="hljs-attr">required</span> <span class="hljs-attr">autocomplete</span>=<span class="hljs-string">"current-password"</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"loginButton"</span>&gt;</span>Entrar<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"link-registro"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>N√£o tem uma conta? <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"registrar.html"</span>&gt;</span>Registre-se<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"assets/js/login.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<p><strong>JS da tela de login</strong></p>
<pre class="hljs"><code><div><span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'DOMContentLoaded'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> loginForm = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'loginForm'</span>);
    <span class="hljs-keyword">const</span> messageDiv = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'message'</span>);
    <span class="hljs-keyword">const</span> loginButton = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'loginButton'</span>);

    loginForm.addEventListener(<span class="hljs-string">'submit'</span>, <span class="hljs-keyword">async</span> (e) =&gt; {
        e.preventDefault(); <span class="hljs-comment">// Impede o recarregamento da p√°gina</span>

        <span class="hljs-comment">// Desabilita o bot√£o e mostra "Carregando..."</span>
        loginButton.disabled = <span class="hljs-literal">true</span>;
        loginButton.textContent = <span class="hljs-string">'Carregando...'</span>;
        messageDiv.className = <span class="hljs-string">'message'</span>;
        messageDiv.textContent = <span class="hljs-string">''</span>;

        <span class="hljs-comment">// Coleta os dados do formul√°rio</span>
        <span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">new</span> FormData(loginForm);
        <span class="hljs-keyword">const</span> data = <span class="hljs-built_in">Object</span>.fromEntries(formData.entries());

        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">'processa_login.php'</span>, {
                <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
                <span class="hljs-attr">headers</span>: {
                    <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
                },
                <span class="hljs-attr">body</span>: <span class="hljs-built_in">JSON</span>.stringify(data)
            });

            <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> response.json();

            <span class="hljs-keyword">if</span> (result.success) {
                <span class="hljs-comment">// Sucesso</span>
                messageDiv.textContent = <span class="hljs-string">'Login bem-sucedido! Redirecionando...'</span>;
                messageDiv.className = <span class="hljs-string">'message success'</span>;
                
                <span class="hljs-comment">// Redireciona para a p√°gina principal do jogo (ex: index.php)</span>
                setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
                    <span class="hljs-comment">// O destino deve ser a p√°gina principal do jogo</span>
                    <span class="hljs-built_in">window</span>.location.href = <span class="hljs-string">'index.php'</span>; 
                }, <span class="hljs-number">2000</span>);

            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// Erro</span>
                messageDiv.textContent = result.message || <span class="hljs-string">'Erro desconhecido.'</span>;
                messageDiv.className = <span class="hljs-string">'message error'</span>;
                loginButton.disabled = <span class="hljs-literal">false</span>;
                loginButton.textContent = <span class="hljs-string">'Entrar'</span>;
            }
        } <span class="hljs-keyword">catch</span> (error) {
            <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'Erro na requisi√ß√£o:'</span>, error);
            messageDiv.textContent = <span class="hljs-string">'Erro de conex√£o com o servidor.'</span>;
            messageDiv.className = <span class="hljs-string">'message error'</span>;
            loginButton.disabled = <span class="hljs-literal">false</span>;
            loginButton.textContent = <span class="hljs-string">'Entrar'</span>;
        }
    });
});
</div></code></pre>
<h3 id="back-end">Back-End</h3>
<p>O back-end desse projeto ser√° todo desenvolvido por PHP</p>
<p><strong>db_config.php</strong></p>
<p>Respons√°vel pela conex√£o do sistema com o banco de dados.</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">// db_config.php</span>
define(<span class="hljs-string">'DB_HOST'</span>, <span class="hljs-string">'localhost'</span>);
define(<span class="hljs-string">'DB_USER'</span>, <span class="hljs-string">'root'</span>);       <span class="hljs-comment">// &lt;-- Seu usu√°rio do MySQL</span>
define(<span class="hljs-string">'DB_PASS'</span>, <span class="hljs-string">''</span>);           <span class="hljs-comment">// &lt;-- Sua senha do MySQL</span>
define(<span class="hljs-string">'DB_NAME'</span>, <span class="hljs-string">'termooo_db'</span>); <span class="hljs-comment">// O banco de dados da sua documenta√ß√£o</span>
define(<span class="hljs-string">'DB_CHARSET'</span>, <span class="hljs-string">'utf8mb4'</span>);

$options = [
    PDO::ATTR_ERRMODE            =&gt; PDO::ERRMODE_EXCEPTION,
    PDO::ATTR_DEFAULT_FETCH_MODE =&gt; PDO::FETCH_ASSOC,
    PDO::ATTR_EMULATE_PREPARES   =&gt; <span class="hljs-keyword">false</span>,
];

<span class="hljs-keyword">try</span> {
    $dsn = <span class="hljs-string">"mysql:host="</span> . DB_HOST . <span class="hljs-string">";dbname="</span> . DB_NAME . <span class="hljs-string">";charset="</span> . DB_CHARSET;
    $pdo = <span class="hljs-keyword">new</span> PDO($dsn, DB_USER, DB_PASS, $options);
} <span class="hljs-keyword">catch</span> (PDOException $e) {
    <span class="hljs-comment">// Em um ambiente de produ√ß√£o, voc√™ n√£o deve exibir erros detalhados.</span>
    <span class="hljs-comment">// Voc√™ deve logar o erro e mostrar uma mensagem gen√©rica.</span>
    error_log($e-&gt;getMessage()); <span class="hljs-comment">// Loga o erro no servidor</span>
    
    <span class="hljs-comment">// Resposta de erro gen√©rica para o frontend (caso seja uma API)</span>
    <span class="hljs-comment">// header('Content-Type: application/json');</span>
    <span class="hljs-comment">// echo json_encode(['success' =&gt; false, 'message' =&gt; 'Erro de conex√£o com o banco de dados.']);</span>
    
    <span class="hljs-comment">// Ou uma p√°gina de erro</span>
    <span class="hljs-keyword">die</span>(<span class="hljs-string">"Erro cr√≠tico de conex√£o com o banco de dados. Por favor, tente mais tarde."</span>);
}
<span class="hljs-meta">?&gt;</span>
</div></code></pre>
<p><strong>processa_login.php</strong></p>
<p>Segmenta as informa√ß√µes recebidas como arquivo JSON do documento login.js e verifica se o e-mail digitado pelo usu√°rio e a senha correspondem com algum usu√°rio j√° cadastrado no banco de dados, na tabela &quot;usuarios&quot;.</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">// processa_login.php</span>

<span class="hljs-comment">// 1. Inicia a sess√£o (ESSENCIAL para manter o usu√°rio logado)</span>
<span class="hljs-comment">// Deve ser a primeira coisa no script</span>
session_start();

<span class="hljs-comment">// 2. Inclui a conex√£o com o banco</span>
<span class="hljs-keyword">require</span> <span class="hljs-string">'/../src/db_config.php'</span>;

<span class="hljs-comment">// 3. Define o tipo de resposta como JSON</span>
header(<span class="hljs-string">'Content-Type: application/json'</span>);

<span class="hljs-comment">// 4. Prepara a resposta padr√£o</span>
$response = [<span class="hljs-string">'success'</span> =&gt; <span class="hljs-keyword">false</span>, <span class="hljs-string">'message'</span> =&gt; <span class="hljs-string">'Requisi√ß√£o inv√°lida.'</span>];

<span class="hljs-comment">// 5. Verifica se o m√©todo √© POST</span>
<span class="hljs-keyword">if</span> ($_SERVER[<span class="hljs-string">'REQUEST_METHOD'</span>] === <span class="hljs-string">'POST'</span>) {
    
    <span class="hljs-comment">// Pega os dados JSON enviados pelo JavaScript</span>
    $data = json_decode(file_get_contents(<span class="hljs-string">'php://input'</span>), <span class="hljs-keyword">true</span>);

    <span class="hljs-comment">// Valida√ß√£o b√°sica</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>($data[<span class="hljs-string">'loginUser'</span>]) || <span class="hljs-keyword">empty</span>($data[<span class="hljs-string">'loginPass'</span>])) {
        $response[<span class="hljs-string">'message'</span>] = <span class="hljs-string">'Usu√°rio/Email e senha s√£o obrigat√≥rios.'</span>;
        <span class="hljs-keyword">echo</span> json_encode($response);
        <span class="hljs-keyword">exit</span>;
    }

    $loginUser = trim($data[<span class="hljs-string">'loginUser'</span>]); <span class="hljs-comment">// Pode ser username ou email</span>
    $password = $data[<span class="hljs-string">'loginPass'</span>];

    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// 6. Prepara a query (Seguro contra SQL Injection)</span>
        <span class="hljs-comment">// O login funciona tanto com 'username' quanto com 'email'</span>
        $sql = <span class="hljs-string">"SELECT id, username, senha_hash FROM usuarios WHERE username = :login OR email = :login LIMIT 1"</span>;
        
        $stmt = $pdo-&gt;prepare($sql);
        $stmt-&gt;execute([<span class="hljs-string">'login'</span> =&gt; $loginUser]);
        
        $user = $stmt-&gt;fetch();

        <span class="hljs-comment">// 7. Verifica se o usu√°rio existe E se a senha est√° correta</span>
        <span class="hljs-keyword">if</span> ($user &amp;&amp; password_verify($password, $user[<span class="hljs-string">'senha_hash'</span>])) {
            
            <span class="hljs-comment">// SUCESSO!</span>
            
            <span class="hljs-comment">// 8. Regenera o ID da sess√£o para evitar "Session Fixation"</span>
            session_regenerate_id(<span class="hljs-keyword">true</span>);
            
            <span class="hljs-comment">// 9. Armazena os dados do usu√°rio na sess√£o</span>
            $_SESSION[<span class="hljs-string">'user_id'</span>] = $user[<span class="hljs-string">'id'</span>];
            $_SESSION[<span class="hljs-string">'username'</span>] = $user[<span class="hljs-string">'username'</span>];
            $_SESSION[<span class="hljs-string">'logged_in'</span>] = <span class="hljs-keyword">true</span>;

            $response[<span class="hljs-string">'success'</span>] = <span class="hljs-keyword">true</span>;
            $response[<span class="hljs-string">'message'</span>] = <span class="hljs-string">'Login bem-sucedido!'</span>;

        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// Falha (usu√°rio n√£o encontrado ou senha errada)</span>
            <span class="hljs-comment">// Usamos uma mensagem gen√©rica por seguran√ßa</span>
            $response[<span class="hljs-string">'message'</span>] = <span class="hljs-string">'Usu√°rio ou senha inv√°lidos.'</span>;
        }

    } <span class="hljs-keyword">catch</span> (PDOException $e) {
        <span class="hljs-comment">// Loga o erro e envia uma resposta gen√©rica</span>
        error_log($e-&gt;getMessage());
        $response[<span class="hljs-string">'message'</span>] = <span class="hljs-string">'Erro no servidor. Tente novamente mais tarde.'</span>;
    }
}

<span class="hljs-comment">// 10. Retorna a resposta (seja sucesso ou falha) como JSON</span>
<span class="hljs-keyword">echo</span> json_encode($response);
<span class="hljs-meta">?&gt;</span>
</div></code></pre>
<h2 id="maiores-dificuldades-do-projeto">Maiores dificuldades do projeto</h2>
<p>Minha maior dificuldade foi descobrir como trabalhar com o JSON que √© enviado de &quot;login.js&quot; para &quot;processa_login.php&quot;.</p>
<p>Sei que JSON √© uma pr√°tica comum no mercado, j√° se tornou uma obriga√ß√£o saber trabalhar com essa nomenclatura, mas foi a primeira vez que tive fazer algo mais &quot;complexo&quot; com essa estrutura de arquivo</p>
<h1 id="semana-3---introdu%C3%A7%C3%A3o-%C3%A0-session">Semana 3 - Introdu√ß√£o √† $_SESSION</h1>
<h2 id="altera%C3%A7%C3%B5es-do-projeto">Altera√ß√µes do projeto</h2>
<p>Na semana passada, havia criado a tela de log-in utilizando JS. Agora, todo o processo funciona apenas com PHP e MySQL.</p>
<p>Tamb√©m alterei a apar√™ncia das interfaces.</p>
<h2 id="o-poder-da-session">O poder da $_SESSION</h2>
<p>Sem as sess√µes, o protocolo HTTP n√£o teria mem√≥ria, ou seja, o servidor esqueceria quem √© o usu√°rio ou o que ele estava fazendo assim que a p√°gina terminasse de carregar.</p>
<p>Utilizar sess√µes permitiu:</p>
<ol>
<li>Persist√™ncia do Jogo: sem as sess√µes, o script rodaria do zero depois de cada palpite do usu√°rio, sempre selecionando uma nova palavra secreta.
<ul>
<li>o c√≥digo armazena a palavra secreta em $_SESSION['palavra_secreta'] e o array $_SESSION['tentativas'] armazene o hist√≥rico de tentativas do usu√°rio</li>
</ul>
</li>
<li>Seguran√ßa Anti-Trapa√ßa: o usu√°rio n√£o tem acesso √† vari√°vel que cont√©m a resposta, garantindo a integridade do desafio, a palavra-secreta fica armazenada na mem√≥ria do servidor.</li>
<li>Login e Identidade: o uso de $_SESSION['user_id'] e $_SESSION['username'] permite que o sistema &quot;lembre&quot; que o usu√°rio j√° digitou a senha correta.</li>
<li>Navega√ß√£o em uma P√°gina √önica: isso permite que o usu√°rio navegue por diferentes &quot;telas&quot; sem que a URL mude ou sem precisar de v√°rios arquivos (login.php, game.php, menu.php).</li>
</ol>
<h2 id="nova-organiza%C3%A7%C3%A3o-de-arquivos-e-pastas">Nova Organiza√ß√£o de Arquivos e Pastas</h2>
<p>Antes, eu iria depender mais de JS para criar o CloneTermooo. Isso expandia drasticamente a estrutura das pastas.</p>
<p>Agora, o c√≥digo ficou com uma estrutura tecnol√≥gica muito mais simplificada, o que diminiu a complexidade da estrutura das pastas</p>
<pre class="hljs"><code><div>üìÅ CloneTermoooPHP/ (Pasta raiz do projeto em htdocs)
‚îÇ
‚îú‚îÄ‚îÄ üìÑ index.php ¬† ¬† ¬† ¬† (Arquivo principal: Controla o fluxo, jogo, login e rotas)
‚îú‚îÄ‚îÄ üìÑ db_config.php ¬† ¬† (Configura√ß√£o do banco de dados, sess√£o e fun√ß√µes globais)
‚îú‚îÄ‚îÄ üìÑ style.css ¬† ¬† ¬† ¬† (Folha de estilos para o jogo e formul√°rios)
‚îÇ
‚îî‚îÄ‚îÄ üìÑ termooo_db.sql ¬† ¬†(Script SQL para criar o banco, tabelas e dados iniciais)
</div></code></pre>
<h2 id="c%C3%B3digos">C√≥digos</h2>
<h3 id="termooodbsql">termooo_db.sql</h3>
<pre class="hljs"><code><div>-- Cria√ß√£o do banco de dados
CREATE DATABASE IF NOT EXISTS termooo_db;
USE termooo_db;
-- Cria√ß√£o da tabela de palavras
CREATE TABLE IF NOT EXISTS palavras (
    id INT AUTO_INCREMENT PRIMARY KEY,
    palavra VARCHAR(5) NOT NULL UNIQUE
);

CREATE TABLE IF NOT EXISTS usuarios (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE,
    senha VARCHAR(255) NOT NULL, -- Armazena Hash da senha, n√£o o texto puro
    sequencia_vitorias INT DEFAULT 0
);

-- Inser√ß√£o de palavras de 5 letras (exemplo)
INSERT IGNORE INTO palavras (palavra) VALUES
('ACASO'), ('ACAO'), ('ADAGA'), ('AGORA'), ('AINDA'), 
('ALIAS'), ('ALUNO'), ('AMIGO'), ('ANEXO'), ('ANIMO'), 
('ANTES'), ('APOIO'), ('ARROZ'), ('ATRIZ'), ('ATUAL'), 
('AUREA'), ('AVIAO'), ('BAIXO'), ('BANHO'), ('BARCO'), 
('BEIJO'), ('BICHO'), ('BLOCO'), ('BLUSA'), ('BOTAO'), 
('BRACO'), ('BRAVO'), ('BREVE'), ('BRISA'), ('BURRO'), 
('CAIXA'), ('CALMA'), ('CAMPO'), ('CANAL'), ('CANTO'), 
('CARGA'), ('CARNE'), ('CARRO'), ('CARTA'), ('CASAL'), 
('CAUSA'), ('CENAS'), ('CESTA'), ('CHAVE'), ('CHEFE'), 
('CHEIO'), ('CHINA'), ('CHUVA'), ('CINCO'), ('CINTO'), 
('CINZA'), ('CLARO'), ('CLUBE'), ('COISA'), ('COFRE'), 
('COMER'), ('COMUM'), ('CONTA'), ('CORAL'), ('CORPO'), 
('CORTE'), ('COURO'), ('CRAVO'), ('CRISE'), ('CULPA'), 
('CURTO'), ('DANCA'), ('DENTE'), ('DIETA'), ('DISCO'), 
('DOBRA'), ('DOSES'), ('DRAMA'), ('DUBLE'), ('DUPLA'), 
('DUZIA'), ('ELITE'), ('ENTRA'), ('ENVIO'), ('ERROS'), 
('ESTAR'), ('ETAPA'), ('EXAME'), ('EXITO'), ('EXTRA'), 
('FACIL'), ('FAIXA'), ('FALSO'), ('FAZER'), ('FEBRE'), 
('FEITO'), ('FELIZ'), ('FERRO'), ('FESTA'), ('FIBRA'), 
('FICHA'), ('FILME'), ('FINAL'), ('FIRMA'), ('FLORA');
</div></code></pre>
<h3 id="dbconfigphp">db_config.php</h3>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">// Configura√ß√µes do Banco de Dados</span>
define(<span class="hljs-string">'DB_SERVER'</span>, <span class="hljs-string">'localhost'</span>);
define(<span class="hljs-string">'DB_USERNAME'</span>, <span class="hljs-string">'root'</span>);
define(<span class="hljs-string">'DB_PASSWORD'</span>, <span class="hljs-string">''</span>); 
define(<span class="hljs-string">'DB_NAME'</span>, <span class="hljs-string">'termooo_db'</span>);

$conn = <span class="hljs-keyword">new</span> mysqli(DB_SERVER, DB_USERNAME, DB_PASSWORD, DB_NAME);

<span class="hljs-keyword">if</span> ($conn-&gt;connect_error) {
    <span class="hljs-keyword">die</span>(<span class="hljs-string">"Falha na conex√£o: "</span> . $conn-&gt;connect_error);
}

mb_internal_encoding(<span class="hljs-string">"UTF-8"</span>);
$conn-&gt;set_charset(<span class="hljs-string">"utf8mb4"</span>);

session_start();

<span class="hljs-comment">// --- FUN√á√ïES DO JOGO ---</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">selecionarPalavraSecreta</span><span class="hljs-params">($conn)</span> </span>{
    $sql = <span class="hljs-string">"SELECT palavra FROM palavras ORDER BY RAND() LIMIT 1"</span>;
    $result = $conn-&gt;query($sql);
    <span class="hljs-keyword">if</span> ($result &amp;&amp; $result-&gt;num_rows &gt; <span class="hljs-number">0</span>) {
        $row = $result-&gt;fetch_assoc();
        <span class="hljs-keyword">return</span> strtoupper($row[<span class="hljs-string">'palavra'</span>]);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-string">'FEIOS'</span>; 
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">iniciarNovoJogo</span><span class="hljs-params">($conn)</span> </span>{
    $_SESSION[<span class="hljs-string">'palavra_secreta'</span>] = selecionarPalavraSecreta($conn);
    $_SESSION[<span class="hljs-string">'tentativas'</span>] = [];
    $_SESSION[<span class="hljs-string">'tentativas_restantes'</span>] = <span class="hljs-number">6</span>;
    $_SESSION[<span class="hljs-string">'jogo_terminado'</span>] = <span class="hljs-keyword">false</span>;
    $_SESSION[<span class="hljs-string">'vitoria'</span>] = <span class="hljs-keyword">false</span>;
    $_SESSION[<span class="hljs-string">'tela_atual'</span>] = <span class="hljs-string">'jogo'</span>; <span class="hljs-comment">// Define que estamos na tela do jogo</span>
}

<span class="hljs-comment">// --- FUN√á√ïES DE USU√ÅRIO E AUTENTICA√á√ÉO ---</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cadastrarUsuario</span><span class="hljs-params">($conn, $username, $senha)</span> </span>{
    <span class="hljs-comment">// Verifica se usu√°rio j√° existe</span>
    $stmt = $conn-&gt;prepare(<span class="hljs-string">"SELECT id FROM usuarios WHERE username = ?"</span>);
    $stmt-&gt;bind_param(<span class="hljs-string">"s"</span>, $username);
    $stmt-&gt;execute();
    <span class="hljs-keyword">if</span> ($stmt-&gt;fetch()) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Nome de usu√°rio j√° existe."</span>;
    }
    $stmt-&gt;close();

    <span class="hljs-comment">// Cria o hash da senha (seguran√ßa)</span>
    $senha_hash = password_hash($senha, PASSWORD_DEFAULT);

    $stmt = $conn-&gt;prepare(<span class="hljs-string">"INSERT INTO usuarios (username, senha) VALUES (?, ?)"</span>);
    $stmt-&gt;bind_param(<span class="hljs-string">"ss"</span>, $username, $senha_hash);
    
    <span class="hljs-keyword">if</span> ($stmt-&gt;execute()) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Erro ao cadastrar."</span>;
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">logarUsuario</span><span class="hljs-params">($conn, $username, $senha)</span> </span>{
    $stmt = $conn-&gt;prepare(<span class="hljs-string">"SELECT id, username, senha, sequencia_vitorias FROM usuarios WHERE username = ?"</span>);
    $stmt-&gt;bind_param(<span class="hljs-string">"s"</span>, $username);
    $stmt-&gt;execute();
    $result = $stmt-&gt;get_result();

    <span class="hljs-keyword">if</span> ($row = $result-&gt;fetch_assoc()) {
        <span class="hljs-keyword">if</span> (password_verify($senha, $row[<span class="hljs-string">'senha'</span>])) {
            <span class="hljs-comment">// Login Sucesso</span>
            $_SESSION[<span class="hljs-string">'user_id'</span>] = $row[<span class="hljs-string">'id'</span>];
            $_SESSION[<span class="hljs-string">'username'</span>] = $row[<span class="hljs-string">'username'</span>];
            $_SESSION[<span class="hljs-string">'sequencia_vitorias'</span>] = $row[<span class="hljs-string">'sequencia_vitorias'</span>];
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-string">"Usu√°rio ou senha incorretos."</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">atualizarSequencia</span><span class="hljs-params">($conn, $user_id, $ganhou)</span> </span>{
    <span class="hljs-keyword">if</span> ($ganhou) {
        <span class="hljs-comment">// Incrementa a sequ√™ncia</span>
        $sql = <span class="hljs-string">"UPDATE usuarios SET sequencia_vitorias = sequencia_vitorias + 1 WHERE id = ?"</span>;
        $_SESSION[<span class="hljs-string">'sequencia_vitorias'</span>]++; <span class="hljs-comment">// Atualiza na sess√£o tamb√©m</span>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// Zera a sequ√™ncia</span>
        $sql = <span class="hljs-string">"UPDATE usuarios SET sequencia_vitorias = 0 WHERE id = ?"</span>;
        $_SESSION[<span class="hljs-string">'sequencia_vitorias'</span>] = <span class="hljs-number">0</span>;
    }
    
    $stmt = $conn-&gt;prepare($sql);
    $stmt-&gt;bind_param(<span class="hljs-string">"i"</span>, $user_id);
    $stmt-&gt;execute();
    $stmt-&gt;close();
}

<span class="hljs-comment">// Inicializa√ß√£o b√°sica de navega√ß√£o</span>
<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">isset</span>($_SESSION[<span class="hljs-string">'tela_atual'</span>])) {
    $_SESSION[<span class="hljs-string">'tela_atual'</span>] = <span class="hljs-string">'menu'</span>;
}
<span class="hljs-meta">?&gt;</span>
</div></code></pre>
<h3 id="indexphp">index.php</h3>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">require_once</span> <span class="hljs-string">'db_config.php'</span>;

$mensagem_erro = <span class="hljs-string">''</span>;
$mensagem_sucesso = <span class="hljs-string">''</span>;

<span class="hljs-comment">// --- ROTEAMENTO DE A√á√ïES (POST) ---</span>

<span class="hljs-comment">// 1. A√ß√£o de Logout</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_GET[<span class="hljs-string">'logout'</span>])) {
    session_destroy();
    header(<span class="hljs-string">"Location: index.php"</span>);
    <span class="hljs-keyword">exit</span>();
}

<span class="hljs-comment">// 2. A√ß√£o de Navega√ß√£o via Bot√µes</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_POST[<span class="hljs-string">'ir_para'</span>])) {
    $_SESSION[<span class="hljs-string">'tela_atual'</span>] = $_POST[<span class="hljs-string">'ir_para'</span>];
    <span class="hljs-keyword">if</span> ($_POST[<span class="hljs-string">'ir_para'</span>] == <span class="hljs-string">'jogo'</span> &amp;&amp; !<span class="hljs-keyword">isset</span>($_SESSION[<span class="hljs-string">'palavra_secreta'</span>])) {
        iniciarNovoJogo($conn);
    }
}

<span class="hljs-comment">// 3. A√ß√£o de Cadastro</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_POST[<span class="hljs-string">'acao_cadastrar'</span>])) {
    $user = trim($_POST[<span class="hljs-string">'username'</span>]);
    $pass = $_POST[<span class="hljs-string">'password'</span>];
    $pass_conf = $_POST[<span class="hljs-string">'password_confirm'</span>];

    <span class="hljs-keyword">if</span> ($pass !== $pass_conf) {
        $mensagem_erro = <span class="hljs-string">"As senhas n√£o conferem!"</span>;
    } <span class="hljs-keyword">elseif</span> (strlen($user) &lt; <span class="hljs-number">3</span> || strlen($pass) &lt; <span class="hljs-number">4</span>) {
        $mensagem_erro = <span class="hljs-string">"Usu√°rio ou senha muito curtos."</span>;
    } <span class="hljs-keyword">else</span> {
        $res = cadastrarUsuario($conn, $user, $pass);
        <span class="hljs-keyword">if</span> ($res === <span class="hljs-keyword">true</span>) {
            $mensagem_sucesso = <span class="hljs-string">"Conta criada! Fa√ßa login."</span>;
            $_SESSION[<span class="hljs-string">'tela_atual'</span>] = <span class="hljs-string">'login'</span>;
        } <span class="hljs-keyword">else</span> {
            $mensagem_erro = $res;
        }
    }
}

<span class="hljs-comment">// 4. A√ß√£o de Login</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_POST[<span class="hljs-string">'acao_login'</span>])) {
    $user = trim($_POST[<span class="hljs-string">'username'</span>]);
    $pass = $_POST[<span class="hljs-string">'password'</span>];
    
    $res = logarUsuario($conn, $user, $pass);
    <span class="hljs-keyword">if</span> ($res === <span class="hljs-keyword">true</span>) {
        iniciarNovoJogo($conn); <span class="hljs-comment">// Come√ßa um jogo ao logar</span>
    } <span class="hljs-keyword">else</span> {
        $mensagem_erro = $res;
    }
}

<span class="hljs-comment">// 5. L√≥gica do Jogo (Processamento do Palpite)</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_POST[<span class="hljs-string">'palpite'</span>]) &amp;&amp; $_SESSION[<span class="hljs-string">'tela_atual'</span>] == <span class="hljs-string">'jogo'</span> &amp;&amp; !$_SESSION[<span class="hljs-string">'jogo_terminado'</span>]) {
    <span class="hljs-comment">// ... (A l√≥gica √© id√™ntica √† anterior, apenas adicionamos a atualiza√ß√£o do BD no final)</span>
    $palpite = strtoupper(trim($_POST[<span class="hljs-string">'palpite'</span>]));
    
    <span class="hljs-comment">// (Valida√ß√µes b√°sicas mantidas)</span>
    <span class="hljs-keyword">if</span> (strlen($palpite) !== <span class="hljs-number">5</span> || !ctype_alpha($palpite)) {
        $mensagem_erro = <span class="hljs-string">"Palpite inv√°lido (apenas 5 letras)."</span>;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// L√≥gica de cores (resumida aqui para brevidade, mas mantenha a sua l√≥gica completa de cores)</span>
        $resultado_palpite = [];
        $palavra_secreta_arr = str_split($_SESSION[<span class="hljs-string">'palavra_secreta'</span>]);
        $palpite_arr = str_split($palpite);
        $palavra_temp = $palavra_secreta_arr;

        <span class="hljs-comment">// Inicializa</span>
        <span class="hljs-keyword">for</span> ($i=<span class="hljs-number">0</span>; $i&lt;<span class="hljs-number">5</span>; $i++) $resultado_palpite[$i] = [<span class="hljs-string">'letra'</span>=&gt;$palpite_arr[$i], <span class="hljs-string">'status'</span>=&gt;<span class="hljs-string">'incorreta'</span>];

        <span class="hljs-comment">// Verde</span>
        <span class="hljs-keyword">for</span> ($i=<span class="hljs-number">0</span>; $i&lt;<span class="hljs-number">5</span>; $i++) {
            <span class="hljs-keyword">if</span> ($palpite_arr[$i] === $palavra_secreta_arr[$i]) {
                $resultado_palpite[$i][<span class="hljs-string">'status'</span>] = <span class="hljs-string">'correta'</span>;
                $palavra_temp[$i] = <span class="hljs-keyword">null</span>;
            }
        }
        <span class="hljs-comment">// Amarelo</span>
        <span class="hljs-keyword">for</span> ($i=<span class="hljs-number">0</span>; $i&lt;<span class="hljs-number">5</span>; $i++) {
            <span class="hljs-keyword">if</span> ($resultado_palpite[$i][<span class="hljs-string">'status'</span>] !== <span class="hljs-string">'correta'</span>) {
                $pos = array_search($palpite_arr[$i], $palavra_temp);
                <span class="hljs-keyword">if</span> ($pos !== <span class="hljs-keyword">false</span>) {
                    $resultado_palpite[$i][<span class="hljs-string">'status'</span>] = <span class="hljs-string">'posicao_errada'</span>;
                    $palavra_temp[$pos] = <span class="hljs-keyword">null</span>;
                }
            }
        }

        $_SESSION[<span class="hljs-string">'tentativas'</span>][] = $resultado_palpite;
        $_SESSION[<span class="hljs-string">'tentativas_restantes'</span>]--;

        <span class="hljs-comment">// Checagem de Vit√≥ria/Derrota</span>
        <span class="hljs-keyword">if</span> ($palpite === $_SESSION[<span class="hljs-string">'palavra_secreta'</span>]) {
            $_SESSION[<span class="hljs-string">'jogo_terminado'</span>] = <span class="hljs-keyword">true</span>;
            $_SESSION[<span class="hljs-string">'vitoria'</span>] = <span class="hljs-keyword">true</span>;
            $mensagem_sucesso = <span class="hljs-string">"Parab√©ns! Voc√™ acertou!"</span>;
            
            <span class="hljs-comment">// ATUALIZAR SEQUENCIA NO BANCO SE LOGADO</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_SESSION[<span class="hljs-string">'user_id'</span>])) {
                atualizarSequencia($conn, $_SESSION[<span class="hljs-string">'user_id'</span>], <span class="hljs-keyword">true</span>);
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ($_SESSION[<span class="hljs-string">'tentativas_restantes'</span>] === <span class="hljs-number">0</span>) {
            $_SESSION[<span class="hljs-string">'jogo_terminado'</span>] = <span class="hljs-keyword">true</span>;
            $mensagem_erro = <span class="hljs-string">"Fim de jogo! A palavra era: "</span> . $_SESSION[<span class="hljs-string">'palavra_secreta'</span>];
            
            <span class="hljs-comment">// ZERAR SEQUENCIA NO BANCO SE LOGADO</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_SESSION[<span class="hljs-string">'user_id'</span>])) {
                atualizarSequencia($conn, $_SESSION[<span class="hljs-string">'user_id'</span>], <span class="hljs-keyword">false</span>);
            }
        }
    }
}

<span class="hljs-comment">// Novo Jogo (Bot√£o dentro do jogo)</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($_POST[<span class="hljs-string">'novo_jogo'</span>])) {
    iniciarNovoJogo($conn);
    header(<span class="hljs-string">"Location: index.php"</span>);
    <span class="hljs-keyword">exit</span>();
}

<span class="hljs-meta">?&gt;</span>
&lt;!DOCTYPE html&gt;
&lt;html lang=<span class="hljs-string">"pt-BR"</span>&gt;
&lt;head&gt;
    &lt;meta charset=<span class="hljs-string">"UTF-8"</span>&gt;
    &lt;meta name=<span class="hljs-string">"viewport"</span> content=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;
    &lt;title&gt;Termooo <span class="hljs-keyword">Clone</span>&lt;/title&gt;
    &lt;link rel=<span class="hljs-string">"stylesheet"</span> href=<span class="hljs-string">"style.css"</span>&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span>="<span class="hljs-title">container</span>"&gt;
        &lt;?<span class="hljs-title">php</span> <span class="hljs-title">if</span> (<span class="hljs-title">isset</span>($<span class="hljs-title">_SESSION</span>['<span class="hljs-title">user_id</span>'])): ?&gt;
            &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">header</span>-<span class="hljs-title">user</span>"&gt;
                &lt;<span class="hljs-title">span</span>&gt;<span class="hljs-title">Ol</span>√°, &lt;<span class="hljs-title">strong</span>&gt;&lt;?<span class="hljs-title">php</span> <span class="hljs-title">echo</span> <span class="hljs-title">htmlspecialchars</span>($<span class="hljs-title">_SESSION</span>['<span class="hljs-title">username</span>']); ?&gt;&lt;/<span class="hljs-title">strong</span>&gt;&lt;/<span class="hljs-title">span</span>&gt;
                &lt;<span class="hljs-title">span</span>&gt;üî• <span class="hljs-title">Sequ</span>√™<span class="hljs-title">ncia</span>: &lt;?<span class="hljs-title">php</span> <span class="hljs-title">echo</span> $<span class="hljs-title">_SESSION</span>['<span class="hljs-title">sequencia_vitorias</span>']; ?&gt;&lt;/<span class="hljs-title">span</span>&gt;
                &lt;<span class="hljs-title">a</span> <span class="hljs-title">href</span>="<span class="hljs-title">index</span>.<span class="hljs-title">php</span>?<span class="hljs-title">logout</span>=1" <span class="hljs-title">class</span>="<span class="hljs-title">logout</span>-<span class="hljs-title">btn</span>"&gt;<span class="hljs-title">Sair</span>&lt;/<span class="hljs-title">a</span>&gt;
            &lt;/<span class="hljs-title">div</span>&gt;
        &lt;?<span class="hljs-title">php</span> <span class="hljs-title">endif</span>; ?&gt;

        &lt;<span class="hljs-title">h1</span>&gt;<span class="hljs-title">Termooo</span> <span class="hljs-title">Clone</span>&lt;/<span class="hljs-title">h1</span>&gt;

        &lt;?<span class="hljs-title">php</span> <span class="hljs-title">if</span> ($<span class="hljs-title">mensagem_erro</span>): ?&gt;
            &lt;<span class="hljs-title">p</span> <span class="hljs-title">class</span>="<span class="hljs-title">mensagem</span> <span class="hljs-title">derrota</span>"&gt;&lt;?<span class="hljs-title">php</span> <span class="hljs-title">echo</span> <span class="hljs-title">htmlspecialchars</span>($<span class="hljs-title">mensagem_erro</span>); ?&gt;&lt;/<span class="hljs-title">p</span>&gt;
        &lt;?<span class="hljs-title">php</span> <span class="hljs-title">endif</span>; ?&gt;
        &lt;?<span class="hljs-title">php</span> <span class="hljs-title">if</span> ($<span class="hljs-title">mensagem_sucesso</span>): ?&gt;
            &lt;<span class="hljs-title">p</span> <span class="hljs-title">class</span>="<span class="hljs-title">mensagem</span> <span class="hljs-title">vitoria</span>"&gt;&lt;?<span class="hljs-title">php</span> <span class="hljs-title">echo</span> <span class="hljs-title">htmlspecialchars</span>($<span class="hljs-title">mensagem_sucesso</span>); ?&gt;&lt;/<span class="hljs-title">p</span>&gt;
        &lt;?<span class="hljs-title">php</span> <span class="hljs-title">endif</span>; ?&gt;


        &lt;?<span class="hljs-title">php</span> <span class="hljs-title">if</span> ($<span class="hljs-title">_SESSION</span>['<span class="hljs-title">tela_atual</span>'] == '<span class="hljs-title">menu</span>' &amp;&amp; !<span class="hljs-title">isset</span>($<span class="hljs-title">_SESSION</span>['<span class="hljs-title">user_id</span>'])): ?&gt;
            
            &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">menu</span>-<span class="hljs-title">botoes</span>"&gt;
                &lt;<span class="hljs-title">form</span> <span class="hljs-title">method</span>="<span class="hljs-title">POST</span>"&gt;
                    &lt;<span class="hljs-title">input</span> <span class="hljs-title">type</span>="<span class="hljs-title">hidden</span>" <span class="hljs-title">name</span>="<span class="hljs-title">ir_para</span>" <span class="hljs-title">value</span>="<span class="hljs-title">jogo</span>"&gt;
                    &lt;<span class="hljs-title">button</span> <span class="hljs-title">type</span>="<span class="hljs-title">submit</span>" <span class="hljs-title">class</span>="<span class="hljs-title">btn</span>-<span class="hljs-title">grande</span>"&gt;<span class="hljs-title">Jogar</span> <span class="hljs-title">Agora</span>&lt;/<span class="hljs-title">button</span>&gt;
                &lt;/<span class="hljs-title">form</span>&gt;

                &lt;<span class="hljs-title">form</span> <span class="hljs-title">method</span>="<span class="hljs-title">POST</span>"&gt;
                    &lt;<span class="hljs-title">input</span> <span class="hljs-title">type</span>="<span class="hljs-title">hidden</span>" <span class="hljs-title">name</span>="<span class="hljs-title">ir_para</span>" <span class="hljs-title">value</span>="<span class="hljs-title">cadastro</span>"&gt;
                    &lt;<span class="hljs-title">button</span> <span class="hljs-title">type</span>="<span class="hljs-title">submit</span>" <span class="hljs-title">class</span>="<span class="hljs-title">btn</span>-<span class="hljs-title">grande</span> <span class="hljs-title">btn</span>-<span class="hljs-title">secundario</span>"&gt;<span class="hljs-title">Criar</span> <span class="hljs-title">Conta</span>&lt;/<span class="hljs-title">button</span>&gt;
                &lt;/<span class="hljs-title">form</span>&gt;

                &lt;<span class="hljs-title">form</span> <span class="hljs-title">method</span>="<span class="hljs-title">POST</span>"&gt;
                    &lt;<span class="hljs-title">input</span> <span class="hljs-title">type</span>="<span class="hljs-title">hidden</span>" <span class="hljs-title">name</span>="<span class="hljs-title">ir_para</span>" <span class="hljs-title">value</span>="<span class="hljs-title">login</span>"&gt;
                    &lt;<span class="hljs-title">button</span> <span class="hljs-title">type</span>="<span class="hljs-title">submit</span>" <span class="hljs-title">class</span>="<span class="hljs-title">btn</span>-<span class="hljs-title">grande</span> <span class="hljs-title">btn</span>-<span class="hljs-title">secundario</span>"&gt;<span class="hljs-title">Entrar</span>&lt;/<span class="hljs-title">button</span>&gt;
                &lt;/<span class="hljs-title">form</span>&gt;
            &lt;/<span class="hljs-title">div</span>&gt;

        &lt;?<span class="hljs-title">php</span> <span class="hljs-title">elseif</span> ($<span class="hljs-title">_SESSION</span>['<span class="hljs-title">tela_atual</span>'] == '<span class="hljs-title">cadastro</span>' &amp;&amp; !<span class="hljs-title">isset</span>($<span class="hljs-title">_SESSION</span>['<span class="hljs-title">user_id</span>'])): ?&gt;
            
            &lt;<span class="hljs-title">h3</span>&gt;<span class="hljs-title">Criar</span> <span class="hljs-title">Conta</span>&lt;/<span class="hljs-title">h3</span>&gt;
            &lt;<span class="hljs-title">form</span> <span class="hljs-title">method</span>="<span class="hljs-title">POST</span>" <span class="hljs-title">class</span>="<span class="hljs-title">form</span>-<span class="hljs-title">auth</span>"&gt;
                &lt;<span class="hljs-title">input</span> <span class="hljs-title">type</span>="<span class="hljs-title">hidden</span>" <span class="hljs-title">name</span>="<span class="hljs-title">acao_cadastrar</span>" <span class="hljs-title">value</span>="1"&gt;
                
                &lt;<span class="hljs-title">label</span>&gt;<span class="hljs-title">Usu</span>√°<span class="hljs-title">rio</span>&lt;/<span class="hljs-title">label</span>&gt;
                &lt;<span class="hljs-title">input</span> <span class="hljs-title">type</span>="<span class="hljs-title">text</span>" <span class="hljs-title">name</span>="<span class="hljs-title">username</span>" <span class="hljs-title">required</span>&gt;
                
                &lt;<span class="hljs-title">label</span>&gt;<span class="hljs-title">Senha</span>&lt;/<span class="hljs-title">label</span>&gt;
                &lt;<span class="hljs-title">input</span> <span class="hljs-title">type</span>="<span class="hljs-title">password</span>" <span class="hljs-title">name</span>="<span class="hljs-title">password</span>" <span class="hljs-title">required</span>&gt;
                
                &lt;<span class="hljs-title">label</span>&gt;<span class="hljs-title">Confirmar</span> <span class="hljs-title">Senha</span>&lt;/<span class="hljs-title">label</span>&gt;
                &lt;<span class="hljs-title">input</span> <span class="hljs-title">type</span>="<span class="hljs-title">password</span>" <span class="hljs-title">name</span>="<span class="hljs-title">password_confirm</span>" <span class="hljs-title">required</span>&gt;
                
                &lt;<span class="hljs-title">button</span> <span class="hljs-title">type</span>="<span class="hljs-title">submit</span>" <span class="hljs-title">class</span>="<span class="hljs-title">btn</span>-<span class="hljs-title">grande</span>"&gt;<span class="hljs-title">Cadastrar</span>&lt;/<span class="hljs-title">button</span>&gt;
            &lt;/<span class="hljs-title">form</span>&gt;
            &lt;<span class="hljs-title">form</span> <span class="hljs-title">method</span>="<span class="hljs-title">POST</span>"&gt;&lt;<span class="hljs-title">button</span> <span class="hljs-title">type</span>="<span class="hljs-title">submit</span>" <span class="hljs-title">name</span>="<span class="hljs-title">ir_para</span>" <span class="hljs-title">value</span>="<span class="hljs-title">menu</span>" <span class="hljs-title">class</span>="<span class="hljs-title">link</span>-<span class="hljs-title">voltar</span>"&gt;<span class="hljs-title">Voltar</span>&lt;/<span class="hljs-title">button</span>&gt;&lt;/<span class="hljs-title">form</span>&gt;

        &lt;?<span class="hljs-title">php</span> <span class="hljs-title">elseif</span> ($<span class="hljs-title">_SESSION</span>['<span class="hljs-title">tela_atual</span>'] == '<span class="hljs-title">login</span>' &amp;&amp; !<span class="hljs-title">isset</span>($<span class="hljs-title">_SESSION</span>['<span class="hljs-title">user_id</span>'])): ?&gt;
            
            &lt;<span class="hljs-title">h3</span>&gt;<span class="hljs-title">Login</span>&lt;/<span class="hljs-title">h3</span>&gt;
            &lt;<span class="hljs-title">form</span> <span class="hljs-title">method</span>="<span class="hljs-title">POST</span>" <span class="hljs-title">class</span>="<span class="hljs-title">form</span>-<span class="hljs-title">auth</span>"&gt;
                &lt;<span class="hljs-title">input</span> <span class="hljs-title">type</span>="<span class="hljs-title">hidden</span>" <span class="hljs-title">name</span>="<span class="hljs-title">acao_login</span>" <span class="hljs-title">value</span>="1"&gt;
                
                &lt;<span class="hljs-title">label</span>&gt;<span class="hljs-title">Usu</span>√°<span class="hljs-title">rio</span>&lt;/<span class="hljs-title">label</span>&gt;
                &lt;<span class="hljs-title">input</span> <span class="hljs-title">type</span>="<span class="hljs-title">text</span>" <span class="hljs-title">name</span>="<span class="hljs-title">username</span>" <span class="hljs-title">required</span>&gt;
                
                &lt;<span class="hljs-title">label</span>&gt;<span class="hljs-title">Senha</span>&lt;/<span class="hljs-title">label</span>&gt;
                &lt;<span class="hljs-title">input</span> <span class="hljs-title">type</span>="<span class="hljs-title">password</span>" <span class="hljs-title">name</span>="<span class="hljs-title">password</span>" <span class="hljs-title">required</span>&gt;
                
                &lt;<span class="hljs-title">button</span> <span class="hljs-title">type</span>="<span class="hljs-title">submit</span>" <span class="hljs-title">class</span>="<span class="hljs-title">btn</span>-<span class="hljs-title">grande</span>"&gt;<span class="hljs-title">Entrar</span>&lt;/<span class="hljs-title">button</span>&gt;
            &lt;/<span class="hljs-title">form</span>&gt;
            &lt;<span class="hljs-title">form</span> <span class="hljs-title">method</span>="<span class="hljs-title">POST</span>"&gt;&lt;<span class="hljs-title">button</span> <span class="hljs-title">type</span>="<span class="hljs-title">submit</span>" <span class="hljs-title">name</span>="<span class="hljs-title">ir_para</span>" <span class="hljs-title">value</span>="<span class="hljs-title">menu</span>" <span class="hljs-title">class</span>="<span class="hljs-title">link</span>-<span class="hljs-title">voltar</span>"&gt;<span class="hljs-title">Voltar</span>&lt;/<span class="hljs-title">button</span>&gt;&lt;/<span class="hljs-title">form</span>&gt;

        &lt;?<span class="hljs-title">php</span> <span class="hljs-title">else</span>: ?&gt;
            
            &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">tabuleiro</span>"&gt;
                &lt;?<span class="hljs-title">php</span>
                // <span class="hljs-title">Exibe</span> <span class="hljs-title">tentativas</span>
                <span class="hljs-title">foreach</span> ($<span class="hljs-title">_SESSION</span>['<span class="hljs-title">tentativas</span>'] <span class="hljs-title">as</span> $<span class="hljs-title">tentativa</span>) </span>{
                    <span class="hljs-keyword">echo</span> <span class="hljs-string">'&lt;div class="linha"&gt;'</span>;
                    <span class="hljs-keyword">foreach</span> ($tentativa <span class="hljs-keyword">as</span> $l) {
                        <span class="hljs-keyword">echo</span> <span class="hljs-string">'&lt;div class="celula '</span> . $l[<span class="hljs-string">'status'</span>] . <span class="hljs-string">'"&gt;'</span> . $l[<span class="hljs-string">'letra'</span>] . <span class="hljs-string">'&lt;/div&gt;'</span>;
                    }
                    <span class="hljs-keyword">echo</span> <span class="hljs-string">'&lt;/div&gt;'</span>;
                }
                <span class="hljs-comment">// Linhas vazias</span>
                <span class="hljs-keyword">for</span> ($i = <span class="hljs-number">0</span>; $i &lt; $_SESSION[<span class="hljs-string">'tentativas_restantes'</span>]; $i++) {
                    <span class="hljs-keyword">echo</span> <span class="hljs-string">'&lt;div class="linha"&gt;'</span>;
                    <span class="hljs-keyword">for</span> ($j = <span class="hljs-number">0</span>; $j &lt; <span class="hljs-number">5</span>; $j++) <span class="hljs-keyword">echo</span> <span class="hljs-string">'&lt;div class="celula"&gt;&lt;/div&gt;'</span>;
                    <span class="hljs-keyword">echo</span> <span class="hljs-string">'&lt;/div&gt;'</span>;
                }
                <span class="hljs-meta">?&gt;</span>
            &lt;/div&gt;

            <span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">if</span> (!$_SESSION[<span class="hljs-string">'jogo_terminado'</span>]): <span class="hljs-meta">?&gt;</span>
                &lt;form method=<span class="hljs-string">"POST"</span> <span class="hljs-class"><span class="hljs-keyword">class</span>="<span class="hljs-title">form</span>-<span class="hljs-title">palpite</span>"&gt;
                    &lt;<span class="hljs-title">input</span> <span class="hljs-title">type</span>="<span class="hljs-title">text</span>" <span class="hljs-title">name</span>="<span class="hljs-title">palpite</span>" <span class="hljs-title">maxlength</span>="5" <span class="hljs-title">required</span> <span class="hljs-title">autofocus</span> <span class="hljs-title">autocomplete</span>="<span class="hljs-title">off</span>"&gt;
                    &lt;<span class="hljs-title">button</span> <span class="hljs-title">type</span>="<span class="hljs-title">submit</span>"&gt;<span class="hljs-title">Tentar</span>&lt;/<span class="hljs-title">button</span>&gt;
                &lt;/<span class="hljs-title">form</span>&gt;
            &lt;?<span class="hljs-title">php</span> <span class="hljs-title">else</span>: ?&gt;
                &lt;<span class="hljs-title">form</span> <span class="hljs-title">method</span>="<span class="hljs-title">POST</span>" <span class="hljs-title">class</span>="<span class="hljs-title">form</span>-<span class="hljs-title">novo</span>-<span class="hljs-title">jogo</span>"&gt;
                    &lt;<span class="hljs-title">input</span> <span class="hljs-title">type</span>="<span class="hljs-title">hidden</span>" <span class="hljs-title">name</span>="<span class="hljs-title">novo_jogo</span>" <span class="hljs-title">value</span>="1"&gt;
                    &lt;<span class="hljs-title">button</span> <span class="hljs-title">type</span>="<span class="hljs-title">submit</span>"&gt;<span class="hljs-title">Novo</span> <span class="hljs-title">Jogo</span>&lt;/<span class="hljs-title">button</span>&gt;
                &lt;/<span class="hljs-title">form</span>&gt;
            &lt;?<span class="hljs-title">php</span> <span class="hljs-title">endif</span>; ?&gt;

            &lt;?<span class="hljs-title">php</span> <span class="hljs-title">if</span> (!<span class="hljs-title">isset</span>($<span class="hljs-title">_SESSION</span>['<span class="hljs-title">user_id</span>'])): ?&gt;
                &lt;<span class="hljs-title">form</span> <span class="hljs-title">method</span>="<span class="hljs-title">POST</span>" <span class="hljs-title">style</span>="<span class="hljs-title">margin</span>-<span class="hljs-title">top</span>:20<span class="hljs-title">px</span>;"&gt;
                    &lt;<span class="hljs-title">button</span> <span class="hljs-title">type</span>="<span class="hljs-title">submit</span>" <span class="hljs-title">name</span>="<span class="hljs-title">ir_para</span>" <span class="hljs-title">value</span>="<span class="hljs-title">menu</span>" <span class="hljs-title">class</span>="<span class="hljs-title">link</span>-<span class="hljs-title">voltar</span>"&gt;<span class="hljs-title">Voltar</span> <span class="hljs-title">ao</span> <span class="hljs-title">Menu</span>&lt;/<span class="hljs-title">button</span>&gt;
                &lt;/<span class="hljs-title">form</span>&gt;
            &lt;?<span class="hljs-title">php</span> <span class="hljs-title">endif</span>; ?&gt;

        &lt;?<span class="hljs-title">php</span> <span class="hljs-title">endif</span>; ?&gt;
    &lt;/<span class="hljs-title">div</span>&gt;
&lt;/<span class="hljs-title">body</span>&gt;
&lt;/<span class="hljs-title">html</span>&gt;
</span></div></code></pre>
<h3 id="stylecss">style.css</h3>
<pre class="hljs"><code><div><span class="hljs-selector-tag">body</span> {
    <span class="hljs-attribute">font-family</span>: Arial, sans-serif;
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f0f0f0</span>;
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">justify-content</span>: center;
    <span class="hljs-attribute">align-items</span>: center;
    <span class="hljs-attribute">min-height</span>: <span class="hljs-number">100vh</span>;
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
}

<span class="hljs-selector-class">.container</span> {
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fff</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">30px</span>;
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">8px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>);
    <span class="hljs-attribute">text-align</span>: center;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">max-width</span>: <span class="hljs-number">400px</span>;
}

<span class="hljs-selector-tag">h1</span> {
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;
}

<span class="hljs-selector-class">.mensagem</span> {
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;
    <span class="hljs-attribute">font-weight</span>: bold;
}

<span class="hljs-selector-class">.alerta</span> {
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fff3cd</span>;
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#856404</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ffeeba</span>;
}

<span class="hljs-selector-class">.vitoria</span> {
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#d4edda</span>;
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#155724</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#c3e6cb</span>;
}

<span class="hljs-selector-class">.derrota</span> {
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f8d7da</span>;
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#721c24</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#f5c6cb</span>;
}

<span class="hljs-selector-class">.tabuleiro</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">flex-direction</span>: column;
    <span class="hljs-attribute">gap</span>: <span class="hljs-number">5px</span>;
    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;
}

<span class="hljs-selector-class">.linha</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">justify-content</span>: center;
    <span class="hljs-attribute">gap</span>: <span class="hljs-number">5px</span>;
}

<span class="hljs-selector-class">.celula</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">50px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">justify-content</span>: center;
    <span class="hljs-attribute">align-items</span>: center;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.5em</span>;
    <span class="hljs-attribute">font-weight</span>: bold;
    <span class="hljs-attribute">text-transform</span>: uppercase;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#d3d6da</span>;
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fff</span>;
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#000</span>;
    <span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.3s</span> ease;
}

<span class="hljs-comment">/* Estilos para o feedback do palpite */</span>
<span class="hljs-selector-class">.celula</span><span class="hljs-selector-class">.correta</span> {
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#6aaa64</span>; <span class="hljs-comment">/* Verde */</span>
    <span class="hljs-attribute">color</span>: white;
    <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#6aaa64</span>;
}

<span class="hljs-selector-class">.celula</span><span class="hljs-selector-class">.posicao_errada</span> {
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#c9b458</span>; <span class="hljs-comment">/* Amarelo */</span>
    <span class="hljs-attribute">color</span>: white;
    <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#c9b458</span>;
}

<span class="hljs-selector-class">.celula</span><span class="hljs-selector-class">.incorreta</span> {
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#787c7e</span>; <span class="hljs-comment">/* Cinza */</span>
    <span class="hljs-attribute">color</span>: white;
    <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#787c7e</span>;
}

<span class="hljs-selector-class">.form-palpite</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">gap</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15px</span>;
}

<span class="hljs-selector-class">.form-palpite</span> <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">"text"</span>]</span> {
    <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1em</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ccc</span>;
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;
    <span class="hljs-attribute">text-transform</span>: uppercase;
    <span class="hljs-attribute">text-align</span>: center;
}

<span class="hljs-selector-class">.form-palpite</span> <span class="hljs-selector-tag">button</span>, <span class="hljs-selector-class">.form-novo-jogo</span> <span class="hljs-selector-tag">button</span> {
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">15px</span>;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1em</span>;
    <span class="hljs-attribute">font-weight</span>: bold;
    <span class="hljs-attribute">color</span>: white;
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#6aaa64</span>;
    <span class="hljs-attribute">border</span>: none;
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;
    <span class="hljs-attribute">cursor</span>: pointer;
    <span class="hljs-attribute">transition</span>: background-color <span class="hljs-number">0.2s</span>;
}

<span class="hljs-selector-class">.form-palpite</span> <span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:hover</span>, <span class="hljs-selector-class">.form-novo-jogo</span> <span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:hover</span> {
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#5d9858</span>;
}

<span class="hljs-selector-class">.info</span> {
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.9em</span>;
}

<span class="hljs-selector-class">.form-novo-jogo</span> {
    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;
}

<span class="hljs-comment">/* ... Mantenha todo o CSS anterior ... */</span>

<span class="hljs-comment">/* Estilos para o Menu e Formul√°rios de Login */</span>
<span class="hljs-selector-class">.menu-botoes</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">flex-direction</span>: column;
    <span class="hljs-attribute">gap</span>: <span class="hljs-number">15px</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
}

<span class="hljs-selector-class">.btn-grande</span> {
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.1em</span>;
    <span class="hljs-attribute">cursor</span>: pointer;
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#6aaa64</span>;
    <span class="hljs-attribute">color</span>: white;
    <span class="hljs-attribute">border</span>: none;
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;
    <span class="hljs-attribute">font-weight</span>: bold;
    <span class="hljs-attribute">transition</span>: background <span class="hljs-number">0.3s</span>;
    <span class="hljs-attribute">text-decoration</span>: none; <span class="hljs-comment">/* Caso usemos tags &lt;a&gt; */</span>
    <span class="hljs-attribute">display</span>: block;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">box-sizing</span>: border-box;
}

<span class="hljs-selector-class">.btn-grande</span><span class="hljs-selector-pseudo">:hover</span> {
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#5d9858</span>;
}

<span class="hljs-selector-class">.btn-secundario</span> {
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#787c7e</span>;
}

<span class="hljs-selector-class">.btn-secundario</span><span class="hljs-selector-pseudo">:hover</span> {
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#606365</span>;
}

<span class="hljs-selector-class">.form-auth</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">flex-direction</span>: column;
    <span class="hljs-attribute">gap</span>: <span class="hljs-number">15px</span>;
    <span class="hljs-attribute">text-align</span>: left;
}

<span class="hljs-selector-class">.form-auth</span> <span class="hljs-selector-tag">label</span> {
    <span class="hljs-attribute">font-weight</span>: bold;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.9em</span>;
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
}

<span class="hljs-selector-class">.form-auth</span> <span class="hljs-selector-tag">input</span> {
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ccc</span>;
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1em</span>;
}

<span class="hljs-selector-class">.link-voltar</span> {
    <span class="hljs-attribute">display</span>: block;
    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">15px</span>;
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
    <span class="hljs-attribute">text-decoration</span>: underline;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.9em</span>;
    <span class="hljs-attribute">cursor</span>: pointer;
    <span class="hljs-attribute">background</span>: none;
    <span class="hljs-attribute">border</span>: none;
}

<span class="hljs-selector-class">.header-user</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">justify-content</span>: space-between;
    <span class="hljs-attribute">align-items</span>: center;
    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15px</span>;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.9em</span>;
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#555</span>;
    <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>;
    <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-number">10px</span>;
}

<span class="hljs-selector-class">.logout-btn</span> {
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#d9534f</span>;
    <span class="hljs-attribute">text-decoration</span>: none;
    <span class="hljs-attribute">font-weight</span>: bold;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.8em</span>;
}
</div></code></pre>
<h2 id="principais-li%C3%A7%C3%B5es-e-dificuldades">Principais li√ß√µes e dificuldades</h2>
<p>Gostei muito de aprender sobre as $_SESSION, memso ele tendo me confundido muito. Aprender como um sistema de navega√ß√£o de p√°gina √∫nica foi muito interessante. A cria√ß√£o e manipula√ß√£o de sess√µes me deu uma introdu√ß√£o b√°sica ao protocolo HTTP.</p>
<p>Outro grande exerc√≠cio dessa atividade foi manipular arrays, o que sempre me confunde com o tempo. Acessar posi√ß√µes espec√≠ficas em arrays, trocar os valores em posi√ß√µes espec√≠ficos seguindo uma l√≥gica de neg√≥cio espec√≠fica, mover elementos de um array para o outro.</p>

</body>
</html>
